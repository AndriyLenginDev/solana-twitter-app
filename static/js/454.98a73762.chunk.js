"use strict";(self.webpackChunksolana_twitter_app=self.webpackChunksolana_twitter_app||[]).push([[454],{3141:function(e,t,n){n.d(t,{T:function(){return o}});var r=n(5245),o=function(){return(0,r.I0)()}},8684:function(e,t,n){n.d(t,{C:function(){return r}});var r=n(5245).v9},9392:function(e,t,n){n.d(t,{a:function(){return o}});var r=n(3358),o=function(e,t){var n=(0,r.useMemo)((function(){return t-e.length}),[e.length,t]),o=(0,r.useMemo)((function(){return n<0?"text-red-500":n<=10?"text-yellow-500":"text-gray-400"}),[n]);return{charsLeft:n,charsLeftClass:o}}},8139:function(e,t,n){n.d(t,{_:function(){return i}});var r=n(3358),o=n(3141),s=n(5874),i=function(e,t,n){var i=(0,o.T)(),a=(0,r.useMemo)((function(){return e&&t?[e(t)]:[]}),[e,t]),c=(0,r.useCallback)((function(){n?t&&i(s.A3.getTweetsNextPage(a)):i(s.A3.getTweetsNextPage(a))}),[n,i,a,t]);return(0,r.useEffect)((function(){return n?t&&i(s.A3.getTweets(a)):i(s.A3.getTweets(a)),function(){i(s.A3.setTweets([]))}}),[n,i,a,t]),{onNewPage:c}}},818:function(e,t,n){n.d(t,{Nu:function(){return o},st:function(){return r}});var r=280,o=50},3944:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(9677),o=n(9382),s=(n(3358),n(8599)),i={input__wrapper:"IconInput_input__wrapper__snYNX",icon:"IconInput_icon__I71fy",field:"IconInput_field__DwuCl"},a=n(2885),c=["className","Icon"],u=function(e){var t=e.className,n=e.Icon,u=(0,o.Z)(e,c);return(0,a.jsxs)("div",{className:[i.input__wrapper,t].join(" "),children:[n&&(0,a.jsx)(n,{className:[i.icon,u.disabled?"!text-blue-500":""].join(" ")}),(0,a.jsx)(s.Z,(0,r.Z)({className:i.field},u))]})}},7180:function(e,t,n){n.d(t,{Z:function(){return se}});var r=n(3358),o=n(5413),s="TweetCard_tweet__wrapper__hIiC2",i="TweetCard_tweet__header__jQGp1",a="TweetCard_author__XIXl9",c="TweetCard_date__WvyVC",u="TweetCard_tweet__body__V-vwr",l="TweetCard_content__MUB0l",d=n(4203),_="TweetControls_controls__wrapper__92WtL",f=n(9677),h=n(2885),v=function(e){return(0,h.jsx)("svg",(0,f.Z)((0,f.Z)({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),{},{children:(0,h.jsx)("path",{fill:"currentColor",d:"M5,3C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19H5V5H12V3H5M17.78,4C17.61,4 17.43,4.07 17.3,4.2L16.08,5.41L18.58,7.91L19.8,6.7C20.06,6.44 20.06,6 19.8,5.75L18.25,4.2C18.12,4.07 17.95,4 17.78,4M15.37,6.12L8,13.5V16H10.5L17.87,8.62L15.37,6.12Z"})}))},m=function(e){return(0,h.jsx)("svg",(0,f.Z)((0,f.Z)({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),{},{children:(0,h.jsx)("path",{fill:"currentColor",d:"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z"})}))},w="UpdateTweetModal_modal__wrapper__qDOrg",p="UpdateTweetModal_modal__header__PuKRb",x="UpdateTweetModal_cancel__OiWYr",j=n(9339),C="Modal_modal__backdrop__2Z3VS",Z="Modal_modal__content__GUBXv",g=n(9916),L=function(e){var t=e.isOpen,n=e.close,r=e.children;return t?(0,j.createPortal)((0,h.jsx)("div",{className:C,onClick:function(){return n()},children:(0,h.jsx)("div",{className:Z,onClick:g.UW,children:r})}),document.body):null},N=function(e){return(0,h.jsx)("svg",(0,f.Z)((0,f.Z)({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),{},{children:(0,h.jsx)("path",{fill:"currentColor",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})}))},b=n(4611),H=n(3755),T=n(3680),M=n(5020),I=n(3944),B=n(5228),y=n(918),V=n(9319),k={form__wrapper:"UpdateTweetForm_form__wrapper__BFBpL",form__header:"UpdateTweetForm_form__header__WibyX",cancel:"UpdateTweetForm_cancel__+9+nr",form__footer:"UpdateTweetForm_form__footer__XaW-3",topic:"UpdateTweetForm_topic__-7j8D",button:"UpdateTweetForm_button__NQuuh",counter:"UpdateTweetForm_counter__3dH33"},O=n(5006),A=n(3141),F=n(9392),U=n(5874),E=n(818),P=n(8649),R=function(e){var t=e.tweet,n=e.onFinish,o=(0,O.Os)().connected,s=(0,A.T)(),i=(0,r.useState)(t||{}),a=(0,T.Z)(i,2),c=a[0],u=a[1],l=(0,r.useState)(!1),d=(0,T.Z)(l,2),_=d[0],v=d[1],m=(0,F.a)(c.content,E.st),w=m.charsLeft,p=m.charsLeftClass,x=(0,r.useMemo)((function(){return!c.content.length||w<0}),[c.content,w]),j=function(){var e=(0,H.Z)((0,b.Z)().mark((function e(r){var o;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!_){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,v(!0),e.next=7,(0,P.l_)(t,c.topic,c.content);case 7:o=e.sent,s(U.A3.updateTweet(o)),n(),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,12,14,17]])})));return function(t){return e.apply(this,arguments)}}();return o?(0,h.jsxs)("form",{className:k.form__wrapper,children:[(0,h.jsx)(M.Z,{autoresize:!0,placeholder:"What's happening?",value:c.content,onChange:function(e){u((0,f.Z)((0,f.Z)({},c),{},{content:e.target.value}))}}),(0,h.jsxs)("div",{className:k.form__footer,children:[(0,h.jsx)(I.Z,{className:k.topic,Icon:B.Z,maxLength:E.Nu,value:c.topic,onChange:function(e){u((0,f.Z)((0,f.Z)({},c),{},{topic:e.target.value}))}}),(0,h.jsxs)("div",{className:k.button,children:[(0,h.jsxs)("span",{className:[k.counter,p].join(" "),children:[w," left"]}),(0,h.jsx)(y.Z,{disabled:x,loading:_,onClick:j,children:"Update"})]})]})]}):(0,h.jsx)(V.Z,{content:"Connect your wallet to start tweeting..."})},D=function(e){var t=e.isOpen,n=e.close,r=e.tweet;return(0,h.jsx)(L,{isOpen:t,close:n,children:(0,h.jsxs)("div",{className:w,children:[(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("h1",{children:"Update tweet"}),(0,h.jsx)("button",{className:x,onClick:function(){return n()},children:(0,h.jsx)(N,{})})]}),(0,h.jsx)(R,{tweet:r,onFinish:n})]})})},S=function(e){var t=e.tweet,n=function(){var e=(0,r.useState)(!1),t=(0,T.Z)(e,2),n=t[0],o=t[1];return{isOpen:n,toggle:function(){var e=!n;o(e),e?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")}}}(),o=n.isOpen,s=n.toggle,i=(0,A.T)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:_,children:[(0,h.jsx)("button",{onClick:function(e){s()},children:(0,h.jsx)(v,{})}),(0,h.jsx)("button",{onClick:function(e){i(U.A3.deleteTweet(t))},children:(0,h.jsx)(m,{})})]}),(0,h.jsx)(D,{isOpen:o,close:s,tweet:t})]})},W=n(9961),X="TweetFooter_footer__Q4Pmr",K="TweetFooter_footer__topic__XLnjc",Y="TweetFooter_footer__likes__AoYpM",Q="TweetFooter_active__8SZ+K",z=function(e){return(0,h.jsx)("svg",(0,f.Z)((0,f.Z)({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),{},{children:(0,h.jsx)("path",{fill:"currentColor",d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})}))},G=function(e){return(0,h.jsx)("svg",(0,f.Z)((0,f.Z)({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),{},{children:(0,h.jsx)("path",{fill:"currentColor",d:"M12.1,18.55L12,18.65L11.89,18.55C7.14,14.24 4,11.39 4,8.5C4,6.5 5.5,5 7.5,5C9.04,5 10.54,6 11.07,7.36H12.93C13.46,6 14.96,5 16.5,5C18.5,5 20,6.5 20,8.5C20,11.39 16.86,14.24 12.1,18.55M16.5,3C14.76,3 13.09,3.81 12,5.08C10.91,3.81 9.24,3 7.5,3C4.42,3 2,5.41 2,8.5C2,12.27 5.4,15.36 10.55,20.03L12,21.35L13.45,20.03C18.6,15.36 22,12.27 22,8.5C22,5.41 19.58,3 16.5,3Z"})}))},q=n(9900),J=n(7061),$=(0,q.Z)((function e(t){(0,J.Z)(this,e),this.author=t})),ee=n(2281),te=function(e){var t,n=e.tweet,o=(0,O.Os)(),s=o.connected,i=o.publicKey,a=(0,r.useState)([]),c=(0,T.Z)(a,2),u=c[0],l=c[1],_=(0,r.useMemo)((function(){return!!u.length}),[u]),f=(0,r.useMemo)((function(){return!!i&&!!u.find((function(e){return e.author.toBase58()===i.toBase58()}))}),[u,i]);return(0,h.jsxs)("div",{className:X,children:[n.topic&&(0,h.jsxs)(d.OL,{className:K,to:(t=n.topic,"".concat(ee.s2.TOPICS,"/").concat(t)),children:["#",n.topic]}),(0,h.jsxs)("div",{className:Y,children:[_&&(0,h.jsx)("span",{children:u.length}),f?(0,h.jsx)("button",{className:Q,onClick:function(e){i&&l((0,W.Z)(u.filter((function(e){return e.author.toBase58()!==i.toBase58()}))))},children:(0,h.jsx)(z,{})}):(0,h.jsx)("button",{disabled:!s,onClick:function(e){i&&l([].concat((0,W.Z)(u),[new $(i)]))},children:(0,h.jsx)(G,{})})]})]})},ne=function(e){var t=e.tweet,n=(0,O.Os)().publicKey,o=(0,r.useCallback)((function(e){return(null===n||void 0===n?void 0:n.toBase58())===e.toBase58()?ee.s2.PROFILE:"".concat(ee.s2.USERS,"/").concat(e.toBase58())}),[n]),_=(0,r.useMemo)((function(){return(null===n||void 0===n?void 0:n.toBase58())===t.author.toBase58()}),[n,t.author]);return(0,h.jsxs)("div",{className:s,children:[(0,h.jsxs)("div",{className:i,children:[(0,h.jsx)(d.OL,{className:a,to:o(t.author),children:t.authorKey}),(0,h.jsx)("span",{className:c,children:t.createdAt}),_&&(0,h.jsx)(S,{tweet:t})]}),(0,h.jsx)("div",{className:u,children:(0,h.jsx)("p",{className:l,children:t.content})}),(0,h.jsx)(te,{tweet:t})]})},re=(0,r.memo)(ne),oe="TweetList_tweet__list__1e2VC",se=function(e){var t=e.tweets,n=e.loading,s=e.onNewPage,i=void 0===s?function(){}:s,a=(0,r.useRef)(null);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.useEffect)((function(){var r=null===e||void 0===e?void 0:e.current,o=!!window.IntersectionObserver;if(r&&o){var s=new IntersectionObserver((function(e){var r=(0,T.Z)(e,1)[0];null!==r&&void 0!==r&&r.isIntersecting&&!n&&t()}));return s.observe(r),function(){return s.disconnect()}}}),[e,n,t])}(a,(function(){i()}),n),(0,h.jsxs)("div",{className:oe,children:[t.map((function(e){return(0,h.jsx)(re,{tweet:e},e.key)})),(0,h.jsx)("div",{ref:a}),n&&(0,h.jsx)(o.Z,{})]})}},918:function(e,t,n){n.d(t,{Z:function(){return f}});var r,o=n(9677),s=n(9382),i=n(3358),a={btn:"Button_btn__Nl0XW","btn--primary":"Button_btn--primary__wQaO+",loader_color:"Button_loader_color__uKVIQ","btn--secondary":"Button_btn--secondary__-FVi7",btn__loader:"Button_btn__loader__M8Ir4",btn__txt:"Button_btn__txt__1DO3e"},c=n(2727),u=n(9051),l=n(5583),d=n(2885),_=["children","className","loading","variant"];!function(e){e.PRIMARY="primary",e.SECONDARY="secondary"}(r||(r={}));var f=function(e){var t=e.children,n=e.className,f=e.loading,h=e.variant,v=void 0===h?r.PRIMARY:h,m=(0,s.Z)(e,_),w=(0,i.useRef)(null),p=(0,i.useMemo)((function(){return a["btn--".concat(v)]}),[v]);return(0,i.useEffect)((function(){if(w.current){var e=w.current.offsetWidth;w.current.style.width="".concat(e,"px")}}),[]),(0,d.jsx)("button",(0,o.Z)((0,o.Z)({ref:w},m),{},{className:[a.btn,p,n].join(" "),children:(0,d.jsx)(u.Z,{mode:"out-in",children:(0,d.jsx)(l.Z,{addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},classNames:"fade",unmountOnExit:!0,children:f?(0,d.jsx)("div",{className:a.btn__loader,children:(0,d.jsx)(c.Z,{className:a.loader_color})}):(0,d.jsx)("div",{className:a.btn__txt,children:t})},f?"loader":"btn")})}))}},9319:function(e,t,n){n.d(t,{Z:function(){return s}});n(3358);var r={item:"DataItem_item__Eym0s",item__icon:"DataItem_item__icon__MRwjp",item__content:"DataItem_item__content__3Imge"},o=n(2885),s=function(e){var t=e.className,n=e.content,s=e.Icon;return(0,o.jsxs)("div",{className:[r.item,t].join(" "),children:[s&&(0,o.jsx)(s,{className:r.item__icon}),(0,o.jsx)("span",{className:r.item__content,children:n})]})}},8599:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(9677),o=n(9382),s=(n(3358),{input:"Input_input__+UP2D"}),i=n(2885),a=["className"],c=function(e){var t=e.className,n=(0,o.Z)(e,a);return(0,i.jsx)("input",(0,r.Z)((0,r.Z)({},n),{},{className:[s.input,t].join(" ")}))}},5020:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(9677),o=n(9382),s=n(3358),i={textarea:"TextArea_textarea__eB0cu"},a=n(2885),c=["className","autoresize"],u=function(e){var t=e.className,n=e.autoresize,u=(0,o.Z)(e,c),l=(0,s.useRef)(null);return function(e){var t=(0,s.useCallback)((function(){var t=null===e||void 0===e?void 0:e.current;t&&(t.style.height="auto",t.style.height=t.scrollHeight+"px")}),[e]);(0,s.useEffect)((function(){var n=null===e||void 0===e?void 0:e.current;if(n)return t(),n.addEventListener("input",t),function(){null===n||void 0===n||n.removeEventListener("input",t)}}),[t,e])}(n?l:void 0),(0,a.jsx)("textarea",(0,r.Z)((0,r.Z)({ref:l},u),{},{className:[i.textarea,t].join(" ")}))}},5228:function(e,t,n){var r=n(9677),o=(n(3358),n(2885));t.Z=function(e){return(0,o.jsx)("svg",(0,r.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),{},{children:(0,o.jsx)("path",{fill:"currentColor",d:"M5.41,21L6.12,17H2.12L2.47,15H6.47L7.53,9H3.53L3.88,7H7.88L8.59,3H10.59L9.88,7H15.88L16.59,3H18.59L17.88,7H21.88L21.53,9H17.53L16.47,15H20.47L20.12,17H16.12L15.41,21H13.41L14.12,17H8.12L7.41,21H5.41M9.53,9L8.47,15H14.47L15.53,9H9.53Z"})}))}}}]);
//# sourceMappingURL=454.98a73762.chunk.js.map