(self.webpackChunksolana_twitter_app=self.webpackChunksolana_twitter_app||[]).push([[642],{3141:function(t,e,n){"use strict";n.d(e,{T:function(){return o}});var r=n(5245),o=function(){return(0,r.I0)()}},8684:function(t,e,n){"use strict";n.d(e,{C:function(){return r}});var r=n(5245).v9},8720:function(t,e,n){"use strict";n.d(e,{u:function(){return o}});var r=n(9961),o=(0,n(3959).P1)((function(t){return t.tweets.tweets}),(function(t){return(0,r.Z)(t).sort((function(t,e){return e.timestamp.cmp(t.timestamp)}))}))},818:function(t,e,n){"use strict";n.d(e,{Nu:function(){return o},st:function(){return r}});var r=280,o=50},6722:function(t,e,n){"use strict";n.d(e,{A:function(){return a},a:function(){return i}});var r=n(7994),o=n.n(r),a=function(t){return{memcmp:{offset:8,bytes:t}}},i=function(t){return{memcmp:{offset:52,bytes:o().encode(Buffer.from(t))}}}},3944:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(9677),o=n(9382),a=(n(3358),n(8599)),i={input__wrapper:"IconInput_input__wrapper__snYNX",icon:"IconInput_icon__I71fy",field:"IconInput_field__DwuCl"},c=n(2885),s=["className","Icon"],u=function(t){var e=t.className,n=t.Icon,u=(0,o.Z)(t,s);return(0,c.jsxs)("div",{className:[i.input__wrapper,e].join(" "),children:[n&&(0,c.jsx)(n,{className:[i.icon,u.disabled?"!text-blue-500":""].join(" ")}),(0,c.jsx)(a.Z,(0,r.Z)({className:i.field},u))]})}},7877:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var r=n(4611),o=n(3755),a=n(3680),i=n(3358),c=n(9677),s=n(9382),u={textarea:"TextArea_textarea__eB0cu"},f=n(2885),l=["className","autoresize"],_=function(t){var e=t.className,n=t.autoresize,r=(0,s.Z)(t,l),o=(0,i.useRef)(null);return function(t){var e=(0,i.useCallback)((function(){var e=null===t||void 0===t?void 0:t.current;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")}),[t]);(0,i.useEffect)((function(){var n=null===t||void 0===t?void 0:t.current;if(n)return e(),n.addEventListener("input",e),function(){null===n||void 0===n||n.removeEventListener("input",e)}}),[e,t])}(n?o:void 0),(0,f.jsx)("textarea",(0,c.Z)((0,c.Z)({ref:o},r),{},{className:[u.textarea,e].join(" ")}))},d=n(3944),m=n(5228),p=n(918),h={form__wrapper:"TweetForm_form__wrapper__2kMtH",form__footer:"TweetForm_form__footer__nPiA1",topic:"TweetForm_topic__0Yyzd",button:"TweetForm_button__n2Jop",counter:"TweetForm_counter__8f62J"},v=n(5006),x=n(3141),w=n(5874),g=n(818),j=n(5286),N=n(9319),b=function(t){var e=t.className,n=t.forcedTopic,c=(0,v.Os)().connected,s=(0,x.T)(),u=(0,i.useState)(""),l=(0,a.Z)(u,2),b=l[0],y=l[1],Z=(0,i.useState)(n||""),A=(0,a.Z)(Z,2),T=A[0],L=A[1],I=(0,i.useState)(!1),E=(0,a.Z)(I,2),C=E[0],M=E[1];(0,i.useEffect)((function(){L(n||"")}),[n]);var H=(0,i.useMemo)((function(){return g.st-b.length}),[b]),B=(0,i.useMemo)((function(){return H<0?"text-red-500":H<=10?"text-yellow-500":"text-gray-400"}),[H]),U=(0,i.useMemo)((function(){return!!n}),[n]),k=(0,i.useMemo)((function(){return!b.length||H<0}),[b,H]),S=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){var o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!C){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,M(!0),t.next=7,(0,j.R)(b,T);case 7:o=t.sent,s(w.A3.addTweet(o)),y(""),L(n||""),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(3);case 15:return t.prev=15,M(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,13,15,18]])})));return function(e){return t.apply(this,arguments)}}();return c?(0,f.jsxs)("form",{className:[h.form__wrapper,e].join(" "),children:[(0,f.jsx)(_,{autoresize:!0,placeholder:"What's happening?",value:b,onChange:function(t){y(t.target.value)}}),(0,f.jsxs)("div",{className:h.form__footer,children:[(0,f.jsx)(d.Z,{className:h.topic,Icon:m.Z,maxLength:g.Nu,disabled:U,value:T,onChange:function(t){L(t.target.value)}}),(0,f.jsxs)("div",{className:h.button,children:[(0,f.jsxs)("span",{className:[h.counter,B].join(" "),children:[H," left"]}),(0,f.jsx)(p.Z,{disabled:k,loading:C,onClick:S,children:"Tweet"})]})]})]}):(0,f.jsx)(N.Z,{content:"Connect your wallet to start tweeting..."})}},7655:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});n(3358);var r=n(5413),o=n(4203),a=n(725),i=n.n(a),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";if(t.length<=e)return t;var r=n.length,o=e-r,a=Math.ceil(o/2),i=Math.floor(o/2);return"".concat(t.substr(0,a)).concat(n).concat(t.substr(t.length-i))},s=n(2281),u=n(2885),f=function(t){var e,n,r,a=t.tweet;return(0,u.jsxs)("div",{className:"px-6 py-4",children:[(0,u.jsxs)("div",{className:"mb-2 flex justify-between",children:[(0,u.jsx)(o.OL,{className:"text-gray-700 font-semibold hover:underline",to:(r=a.author,"".concat(s.s2.USERS,"/").concat(r.toBase58())),children:c(a.author.toBase58())}),(0,u.jsx)("span",{className:"text-gray-400 text-sm",children:(n=a.timestamp,i()(1e3*n.toNumber()).fromNow())})]}),(0,u.jsx)("p",{children:a.content}),a.topic&&(0,u.jsxs)(o.OL,{className:"text-blue-500 mt-1 hover:underline",to:(e=a.topic,"".concat(s.s2.TOPICS,"/").concat(e)),children:["#",a.topic]})]})},l=function(t){var e=t.tweets,n=t.loading;return(0,u.jsxs)("div",{className:"divide-y",children:[e.map((function(t){return(0,u.jsx)(f,{tweet:t},t.key)})),n&&(0,u.jsx)(r.Z,{})]})}},918:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r,o=n(9677),a=n(9382),i=n(3358),c={btn:"Button_btn__Nl0XW","btn--primary":"Button_btn--primary__wQaO+",loader_color:"Button_loader_color__uKVIQ","btn--secondary":"Button_btn--secondary__-FVi7",btn__loader:"Button_btn__loader__M8Ir4",btn__txt:"Button_btn__txt__1DO3e"},s=n(2727),u=n(9051),f=n(5583),l=n(2885),_=["children","className","loading","variant"];!function(t){t.PRIMARY="primary",t.SECONDARY="secondary"}(r||(r={}));var d=function(t){var e=t.children,n=t.className,d=t.loading,m=t.variant,p=void 0===m?r.PRIMARY:m,h=(0,a.Z)(t,_),v=(0,i.useRef)(null),x=(0,i.useMemo)((function(){return c["btn--".concat(p)]}),[p]);return(0,i.useEffect)((function(){if(v.current){var t=v.current.offsetWidth;v.current.style.width="".concat(t,"px")}}),[]),(0,l.jsx)("button",(0,o.Z)((0,o.Z)({ref:v},h),{},{className:[c.btn,x,n].join(" "),children:(0,l.jsx)(u.Z,{mode:"out-in",children:(0,l.jsx)(f.Z,{addEndListener:function(t,e){t.addEventListener("transitionend",e,!1)},classNames:"fade",unmountOnExit:!0,children:d?(0,l.jsx)("div",{className:c.btn__loader,children:(0,l.jsx)(s.Z,{className:c.loader_color})}):(0,l.jsx)("div",{className:c.btn__txt,children:e})},d?"loader":"btn")})}))}},9319:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});n(3358);var r={item:"DataItem_item__Eym0s",item__icon:"DataItem_item__icon__MRwjp",item__content:"DataItem_item__content__3Imge"},o=n(2885),a=function(t){var e=t.className,n=t.content,a=t.Icon;return(0,o.jsxs)("div",{className:[r.item,e].join(" "),children:[a&&(0,o.jsx)(a,{className:r.item__icon}),(0,o.jsx)("span",{className:r.item__content,children:n})]})}},8599:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(9677),o=n(9382),a=(n(3358),{input:"Input_input__+UP2D"}),i=n(2885),c=["className"],s=function(t){var e=t.className,n=(0,o.Z)(t,c);return(0,i.jsx)("input",(0,r.Z)((0,r.Z)({},n),{},{className:[a.input,e].join(" ")}))}},5228:function(t,e,n){"use strict";var r=n(9677),o=(n(3358),n(2885));e.Z=function(t){return(0,o.jsx)("svg",(0,r.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},t),{},{children:(0,o.jsx)("path",{fill:"currentColor",d:"M5.41,21L6.12,17H2.12L2.47,15H6.47L7.53,9H3.53L3.88,7H7.88L8.59,3H10.59L9.88,7H15.88L16.59,3H18.59L17.88,7H21.88L21.53,9H17.53L16.47,15H20.47L20.12,17H16.12L15.41,21H13.41L14.12,17H8.12L7.41,21H5.41M9.53,9L8.47,15H14.47L15.53,9H9.53Z"})}))}},5642:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return j}});var r=n(3358),o=n(3680),a=n(3944),i=n(5228),c=n(918),s={form__wrapper:"TopicsForm_form__wrapper__K+Dhq",form__input:"TopicsForm_form__input__rTsB3",form__btn:"TopicsForm_form__btn__Bf6p+"},u=n(4430),f=n(3141),l=n(8684),_=n(5874),d=n(2281),m=n(818),p=n(6722),h=n(2885),v=function(t){var e=t.className,n=t.topicParam,v=(0,u.s0)(),x=(0,f.T)(),w=(0,l.C)((function(t){return t.tweets.loading})),g=(0,r.useState)(n||""),j=(0,o.Z)(g,2),N=j[0],b=j[1];(0,r.useEffect)((function(){b(n||"")}),[n]);var y=(0,r.useMemo)((function(){return!N.length}),[N]);return(0,h.jsxs)("form",{className:[s.form__wrapper,e].join(" "),children:[(0,h.jsx)(a.Z,{className:s.form__input,Icon:i.Z,maxLength:m.Nu,value:N,onChange:function(t){b(t.target.value)}}),(0,h.jsx)(c.Z,{disabled:y,className:s.form__btn,loading:w,onClick:function(t){t.preventDefault(),w||(x(_.A3.getTweets([(0,p.a)(N)])),v("".concat(d.s2.TOPICS,"/").concat(N)))},children:"Search"})]})},x=n(7877),w=n(7655),g=n(8720),j=function(){var t=(0,f.T)(),e=(0,l.C)((function(t){return t.tweets.loading})),n=(0,l.C)(g.u),o=(0,u.UO)().topic;return(0,r.useEffect)((function(){return o&&t(_.A3.getTweets([(0,p.a)(o)])),function(){t(_.A3.setTweets([]))}}),[t,o]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v,{topicParam:o}),o&&(0,h.jsx)(x.Z,{forcedTopic:o}),(0,h.jsx)(w.Z,{tweets:n,loading:e})]})}},8306:function(t){"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),a=o.charCodeAt(0);if(255!==e[a])throw new TypeError(o+" is ambiguous");e[a]=r}var i=t.length,c=t.charAt(0),s=Math.log(i)/Math.log(256),u=Math.log(256)/Math.log(i);function f(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,o=0;t[n]===c;)r++,n++;for(var a=(t.length-n)*s+1>>>0,u=new Uint8Array(a);t[n];){var f=e[t.charCodeAt(n)];if(255===f)return;for(var l=0,_=a-1;(0!==f||l<o)&&-1!==_;_--,l++)f+=i*u[_]>>>0,u[_]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");o=l,n++}for(var d=a-o;d!==a&&0===u[d];)d++;for(var m=new Uint8Array(r+(a-d)),p=r;d!==a;)m[p++]=u[d++];return m}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,o=0,a=e.length;o!==a&&0===e[o];)o++,n++;for(var s=(a-o)*u+1>>>0,f=new Uint8Array(s);o!==a;){for(var l=e[o],_=0,d=s-1;(0!==l||_<r)&&-1!==d;d--,_++)l+=256*f[d]>>>0,f[d]=l%i>>>0,l=l/i>>>0;if(0!==l)throw new Error("Non-zero carry");r=_,o++}for(var m=s-r;m!==s&&0===f[m];)m++;for(var p=c.repeat(n);m<s;++m)p+=t.charAt(f[m]);return p},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+i+" character")}}}},7994:function(t,e,n){var r=n(8306);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}}]);
//# sourceMappingURL=642.d9a30a94.chunk.js.map